<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JVM Performance</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css"
          integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
    <meta name="google-site-verification" content="nKBS68MBglsXyUBNGGsQ7oQZU53wrBmnye0L6Fu4jBU"/>
    <script src="https://browser.sentry-cdn.com/4.6.5/bundle.min.js" crossorigin="anonymous"></script>
    <script type="text/javascript">Sentry.init({dsn: 'https://802d42edef034b74860743196de2cac2@sentry.io/1423759'});</script>
    <link rel="stylesheet"
          href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
</head>
<body>
<div class="container">
    <div class="py-5 text-center">
        <h1>JVM Performance</h1>
    </div>
</div>
<hr/>
<div class="container">
    <div>
        <h2>Philosophy of traffic light</h2>
        <div>
            <img src="data/opt-curve.png" alt="" class="img-fluid" />
        </div>
        <p>We can refer to traffic light when we talk about optimizations. </p>
        <ul class="no-points">
            <li><span class="tl-point tl-point-sm tl-point-green"></span> <b>Green zone</b> - use profiler and rewrite ugly code (easy to find problems, measurement accuracy is secondary).</li>
            <li><span class="tl-point tl-point-sm tl-point-yellow"></span> <b>Yellow zone</b> - use profiler and write benchmarks (harder to find problems, measurement accuracy is first).</li>
            <li><span class="tl-point tl-point-sm tl-point-red"></span> <b>Red zone</b> - hack jvm.</li>
        </ul>
<!--        <div>-->
<!--            <img src="data/linux-perf.png" alt="" class="img-fluid" />-->
<!--        </div>-->
<!--        <ul>-->
<!--            <li><b>sys%</b> - threading</li>-->
<!--            <li><b>irq%</b> - offload interruptions</li>-->
<!--            <li><b>idle%</b> - find were we wait</li>-->
<!--            <li><b>iowait%</b> - io optimizations</li>-->
<!--            <li><b>usr%</b> - use profiler...</li>-->
<!--        </ul>-->
    </div>
</div>
<hr/>
<div class="container">
    <div>
        <h2><span class="tl-point tl-point-lg tl-point-green"></span> First steps</h2>
        <p><b>Better algorithms.</b></p>
        <p><b>Less code.</b></p>
        <p><b>Look to Database.</b></p>
        <p><b>Common cases.</b></p>
    </div>
</div>
<div class="container">
    <div>
        <h2><span class="tl-point tl-point-lg tl-point-yellow"></span> Performance measurement</h2>
        <p><b>Throughput / Batching / Response time</b></p>
        <p><b>Benchmarks (micro / macro / meso).</b></p>
        <p><b>JVM Performance toolbox.</b></p>
    </div>
</div>
<div class="container">
    <div>
        <h2><span class="tl-point tl-point-lg tl-point-yellow"></span> Threading & Synchronization</h2>
        <div><img src="data/jvm-thread-lifecycle.png" class="img-fluid" alt=""/></div>
        <p>-</p>
    </div>
</div>
<div class="container">
    <div>
        <h2><span class="tl-point tl-point-lg tl-point-yellow"></span> Databases</h2>
        <p><b>JDBC</b></p>
        <p><b>JPA</b></p>
    </div>
</div>
<div class="container">
    <div>
        <h2><span class="tl-point tl-point-lg tl-point-red"></span> Garbage collection</h2>
        <p>-</p>
    </div>
</div>
<div class="container">
    <div>
        <h2><span class="tl-point tl-point-lg tl-point-red"></span> JIT Compiler</h2>
        <p>-</p>
    </div>
</div>
<div class="container">
    <div>
        <h2><span class="tl-point tl-point-lg tl-point-red"></span> Native memory</h2>
        <p>-</p>
    </div>
</div>
<hr/>
<div class="container">
    <div>
        This article was inspired by <a href="https://shipilev.net/">Aleksey ShipilÃ«v's</a> talks and book "<a href="https://www.amazon.com/Java-Performance-Definitive-Guide-Getting/dp/1449358454">Java Performance: The Definitive Guide</a>".
    </div>
</div>
<hr/>
<div class="container">
    <b>Related articles:</b>
    <ul>
        <li>
            <a href="https://shipilev.net/talks/j1-April2011-performanceBoF.pdf">Java Platform Performance BoF</a>
        </li>
        <li>
            <a href="https://www.amazon.com/Java-Performance-Definitive-Guide-Getting/dp/1449358454">Java Performance: The Definitive Guide</a>
        </li>
        <li>
            <a href="https://www.amazon.com/Optimizing-Java-Techniques-Application-Performance/dp/1492025798">Optimizing Java: Practical Techniques for Improving JVM Application Performance</a>
        </li>
    </ul>
</div>
<hr/>
<div class="container">
    <div class="row">
        <div class="col-2"><img class="d-block mx-auto mb-4 rounded img-fluid"
                                src="https://avatars1.githubusercontent.com/u/669347?s=100" alt=""
                                width="100"
                                height="100"></div>
        <div class="col-8">
            <p>Author <a href="https://mrkandreev.name/">@mrkandreev</a></p>
            <p>Machine Learning Engineer</p>
        </div>
    </div>
</div>
<style>
    .no-points {
        list-style: none;
    }
    .tl-point {
        display: inline-block;
        border: solid 1px rgba(14,0,7,0.96);
    }
    .tl-point-sm {
        height: 10px;
        width: 10px;
        border-radius: 10px;
    }
    .tl-point-lg {
        height: 20px;
        width: 20px;
        border-radius: 20px;
    }
    .tl-point-green {
        background: green;
    }
    .tl-point-yellow {
        background: #ede44c;
    }
    .tl-point-red {
        background: red;
    }
</style>
<script>hljs.initHighlightingOnLoad();</script>
<!-- Yandex.Metrika counter -->
<script type="text/javascript"> (function (d, w, c) {
    (w[c] = w[c] || []).push(function () {
        try {
            w.yaCounter41245659 = new Ya.Metrika2({
                id: 41245659,
                clickmap: true,
                trackLinks: true,
                accurateTrackBounce: true,
                webvisor: true,
                trackHash: true
            });
        } catch (e) {
        }
    });
    var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () {
        n.parentNode.insertBefore(s, n);
    };
    s.type = "text/javascript";
    s.async = true;
    s.src = "https://mc.yandex.ru/metrika/tag.js";
    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else {
        f();
    }
})(document, window, "yandex_metrika_callbacks2"); </script>
<noscript>
    <div><img src="https://mc.yandex.ru/watch/41245659" style="position:absolute; left:-9999px;" alt=""/></div>
</noscript> <!-- /Yandex.Metrika counter -->
</body>
</html>
